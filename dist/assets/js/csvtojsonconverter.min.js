/*! mota-evaluador v0.4.5 | (c) 2019  | MIT License | https://github.com/Dejusticia/mota-evaluador-publico */
const fs=require("fs"),csv=require("csvtojson");var reportsInFolder=fs.readdirSync("src/copy/reports/").filter(o=>o.endsWith(".csv"));console.log("reportsInFolder ="),console.log(reportsInFolder),reportsInFolder.forEach((function(o){let e="src/copy/reports/"+o,t=e.replace(".csv",".json"),r=o.substr(7).replace("-gov-co","").replace(".csv",""),c={meta:{entityName:r.replace("www-","").toUpperCase(),entityUrl:r+".gov.co",lastEvaluationDate:"2019-05-21T22:44:57+00:00",lastEvaluationEpoch:"1558478697",protocolSpeficication:"https://mota.dejusticia.org/specs/mota-active-transparency-specificiation/",specificationUri:"https://mota.dejusticia.org/specs/colombia-corte-constitucional/",sitemap:"http://www.corteconstitucional.gov.co/sitemap.xml",transparencyConfig:"http://www.corteconstitucional.gov.co/transparency.xml",generalGrade:"275",generalGradeNormalized:"40"}};csv().fromFile(e).then(o=>{console.log(o),c.rules=o;var e=JSON.stringify(c);console.log("json ="),console.log(e),fs.writeFile(t,e,"utf8",(function(o){if(o)throw o;console.log("Saved this file!"),console.log(t)}))})}));